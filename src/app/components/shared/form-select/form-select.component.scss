:host.full-width {
    width: 100%;
    display: block;
    
    .form-select-wrapper {
        width: 100%;
    }
    
    ::ng-deep .mat-mdc-form-field {
        width: 100%;
    }
}

.form-select-wrapper {
    width: 100%;
   

    .form-label {
        display: block;
        color: var(--form-label-color);
        font-size: var(--form-label-font-size);
        font-weight: var(--form-label-font-weight);
        margin-bottom: var(--form-label-margin-bottom);

        &.required::after {
            content: ' *';
            color: var(--color-error);
        }
    }

    // Error state on wrapper - apply to select-field
    &.error-state .select-field ::ng-deep .mat-mdc-text-field-wrapper {
        border-color: var(--form-field-border-color-error);
        box-shadow: var(--form-field-error-shadow);
    }

    .select-field {
        width: 100%;
        position: relative;

        // Hide Material's default subscript (hint/error area)
        ::ng-deep .mat-mdc-form-field-subscript-wrapper {
            display: none;
        }

        // Remove Material's default padding and margins
        ::ng-deep .mat-mdc-form-field-infix {
            padding: 0;
            min-height: auto;
            border-top: none;
        }

        // Hide Material's default outline
        ::ng-deep .mat-mdc-form-field-outline,
        ::ng-deep .mdc-notched-outline {
            display: none !important;
        }

        // Create custom border wrapper matching form-input
        ::ng-deep .mat-mdc-text-field-wrapper {
            background: transparent;
            padding: 0;
            border: var(--form-field-border-width) solid var(--form-field-border-color);
            border-radius: var(--form-field-border-radius);
            min-height: var(--form-field-height);
            transition: var(--form-field-transition);
        }

        // Focus state border
        &.mat-focused ::ng-deep .mat-mdc-text-field-wrapper {
            border-color: var(--form-field-border-color-focus);
            box-shadow: var(--form-field-focus-shadow);
        }

        // Error state border - when select-field has error class (from template)
        &.error ::ng-deep .mat-mdc-text-field-wrapper {
            border-color: var(--form-field-border-color-error);
            box-shadow: var(--form-field-error-shadow);
        }

        // Ensure select trigger matches form-input height and padding
        ::ng-deep .mat-mdc-select-trigger {
            height: var(--form-field-height);
            min-height: var(--form-field-height);
            display: flex;
            align-items: center;
            padding:0;
            font-family: var(--form-field-font-family);
            font-size: var(--form-field-font-size);
            font-weight: var(--form-field-font-weight);
            line-height: var(--form-field-line-height);
            box-sizing: border-box;
        }

        // Disabled state
        &.mat-form-field-disabled ::ng-deep .mat-mdc-text-field-wrapper {
            background: var(--form-field-bg-disabled);
            border-color: var(--color-grey-300);
            opacity: 0.6;
        }
    }

    .form-select {
        width: 100%;

        // Match form-input text styling exactly
        ::ng-deep .mat-mdc-select-value {
            color: var(--form-field-color);
            font-family: var(--form-field-font-family);
            font-size: var(--form-field-font-size);
            font-weight: var(--form-field-font-weight);
            line-height: var(--form-field-line-height);
           
        }

        ::ng-deep .mat-mdc-select-placeholder {
            color: var(--form-field-placeholder-color);
            font-size: var(--form-field-font-size);
            font-family: var(--form-field-font-family);
         
        }

        // Custom dropdown chevron - replace default arrow with chevron icon
        ::ng-deep .mat-mdc-select-arrow-wrapper {
            .mat-mdc-select-arrow {
                display: none; // Hide default arrow
            }
            
            // Add custom chevron icon
            &::after {
                content: 'expand_more';
                font-family: 'Material Symbols Outlined';
                font-weight: normal;
                font-style: normal;
                font-size: 24px;
                line-height: 1;
                letter-spacing: normal;
                text-transform: none;
                display: inline-block;
                white-space: nowrap;
                word-wrap: normal;
                direction: ltr;
                font-feature-settings: 'liga';
                -webkit-font-feature-settings: 'liga';
                -webkit-font-smoothing: antialiased;
                color: var(--color-grey-500);
                margin-left: var(--spacing-2);
                transition: transform 0.2s ease, color 0.2s ease;
            }
        }
        
        // Rotate chevron when select is open
        &.mat-focused ::ng-deep .mat-mdc-select-arrow-wrapper::after {
            transform: rotate(180deg);
        }

        // Disabled state - match form-input
        &.disabled {
            ::ng-deep .mat-mdc-select-value {
                color: var(--form-field-color-disabled);
            }

            ::ng-deep .mat-mdc-select-arrow-wrapper::after {
                color: var(--color-grey-300);
            }
        }
    }

    // Panel styling
    ::ng-deep .mat-mdc-select-panel {
        font-family: var(--form-field-font-family);

        .mat-mdc-option {
            font-size: var(--form-field-font-size);
            color: var(--form-field-color);

            &.mat-mdc-option-active {
                background-color: rgba(22, 211, 210, 0.1);
            }

            &.mdc-list-item--selected {
                background-color: var(--color-secondary);
                color: white;
            }
        }

        .mat-mdc-optgroup-label {
            font-weight: var(--font-weight-bold);
            color: var(--form-field-color);
            background-color: var(--color-grey-100);
            font-size: var(--form-label-font-size);
        }
    }

    .error-message {
        display: flex;
        align-items: center;
        gap: var(--spacing-1);
        color: var(--form-error-color);
        font-size: var(--form-error-font-size);
        margin-top: var(--form-error-margin-top);

        .material-icons {
            font-size: var(--form-error-icon-size);
        }
    }
}