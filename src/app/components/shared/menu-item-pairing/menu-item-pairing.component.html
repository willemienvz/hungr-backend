<!-- Menu Item Pairing Section -->
<div class="details-section">
  <div class="detail-header grid">
    <div class="header-title">
      <h6>{{ config.title }}</h6>
    </div>
    <div class="header-actions">
      <p *ngIf="config.description">{{ config.description }}</p>
      <button type="button" class="toggle-btn" (click)="onCloseDetail()">
        <i class="material-icons">close</i>
      </button>
    </div>
  </div>

    <div class="detail-content grid">
    <!-- KB: Custom heading input field -->
    <div class="custom-heading-input">
      <div class="inputBox">
        <input
          placeholder="Custom heading (optional)"
          type="text"
          [ngModel]="config.customHeading"
          (ngModelChange)="onCustomHeadingChange($event)"
          [ngModelOptions]="{ standalone: true }"
        />
        <label>Custom heading for this section</label>
      </div>
    </div>
    
    <!-- Show helpful message when no items are available -->
    <div *ngIf="!hasAvailableItems" class="empty-state-message">
      <div class="empty-state-content">
        <i class="material-icons">info</i>
        <p>To add a pairing, more than one item needs to be added to your menu.</p>
      </div>
    </div>

    <!-- Show autocomplete input only when items are available -->
    <div *ngIf="hasAvailableItems" class="add-input-group">
      <div class="inputBox">
        <input
          type="text"
          [placeholder]="config.placeholder"
          [formControl]="autocompleteControl"
          [matAutocomplete]="auto"
        />
        <label>search and select</label>
        <mat-autocomplete 
          #auto="matAutocomplete" 
          [displayWith]="displayFn"
          (optionSelected)="onMenuItemSelected($event)"
        >
          <mat-option 
            *ngFor="let menuItem of filteredMenuItems | async" 
            [value]="menuItem"
          >
            <span>{{ menuItem.name }}</span>
          </mat-option>
          
          <!-- Show no results message when no items match search -->
          <mat-option 
            *ngIf="(filteredMenuItems | async)?.length === 0 && hasAvailableItems" 
            class="no-results-option" 
            disabled
          >
            <span class="no-results-text">No menu items found matching your search</span>
          </mat-option>
        </mat-autocomplete>
      </div>
    </div>

    <!-- Selected pairings list -->
    <div class="item-list">
      <div
        class="item-tag"
        *ngFor="let pairing of selectedPairings"
      >
        <span>{{ pairing.name }}</span>
        <button type="button" class="remove-btn" (click)="onRemovePairing(pairing.id)">
          <i class="material-icons">close</i>
        </button>
      </div>
      
      <!-- Empty state when no pairings selected -->
       <!-- <div *ngIf="selectedPairings.length === 0" class="empty-state">
      <p>No pairings selected yet. Search above to add menu items that pair well with this one.</p>
      </div> -->
    </div>
  </div>
</div> 