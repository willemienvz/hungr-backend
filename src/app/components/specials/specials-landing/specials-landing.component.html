<div class="container">
  <!-- Header Section -->
  <div class="header-section">
    <div class="header-content">
      <h6 class="add-special-text">Add a special</h6>
      <a class="btnSecondary add-special-btn" routerLink="/specials/add-new-special">
        + ADD SPECIAL
      </a>
    </div>
  </div>

  <!-- Key Metrics Dashboard -->
  <div class="metrics-dashboard" *ngIf="metrics">
    <div class="metric-card">
      <div class="metric-content">
        <h3 class="metric-title">Total Special Sales</h3>
        <div class="metric-value">{{ formatCurrency(metrics.totalSpecialSales.amount) }}</div>
        <div class="metric-movement positive">{{ metrics.totalSpecialSales.percentage }}</div>
      </div>
      <div class="metric-info">
        <mat-icon>info_outline</mat-icon>
      </div>
    </div>
    
    <div class="metric-card">
      <div class="metric-content">
        <h3 class="metric-title">Special Views</h3>
        <div class="metric-value">{{ metrics.specialViews.count.toLocaleString() }}</div>
        <div class="metric-movement positive">{{ metrics.specialViews.percentage }}</div>
      </div>
      <div class="metric-info">
        <mat-icon>info_outline</mat-icon>
      </div>
    </div>
    
    <div class="metric-card">
      <div class="metric-content">
        <h3 class="metric-title">Top Performing Special</h3>
        <div class="metric-value">{{ metrics.topPerformingSpecial.name }}</div>
        <div class="metric-subtitle">{{ metrics.topPerformingSpecial.performance }}</div>
      </div>
      <div class="metric-info">
        <mat-icon>info_outline</mat-icon>
      </div>
    </div>
    
    <div class="metric-card">
      <div class="metric-content">
        <h3 class="metric-title">Specials Ordered</h3>
        <div class="metric-value">{{ metrics.specialsOrdered.count.toLocaleString() }}</div>
        <div class="metric-movement positive">{{ metrics.specialsOrdered.percentage }}</div>
      </div>
      <div class="metric-info">
        <mat-icon>info_outline</mat-icon>
      </div>
    </div>
  </div>

  <!-- Active Specials Section -->
  <div class="specials-section">
    <div class="section-header">
      <h6 class="section-title">Active Specials</h6>
      <div class="filter-dropdown">
        <mat-select placeholder="Filter by" (selectionChange)="onFilterChange($event.value)">
          <mat-option value="all">All</mat-option>
          <mat-option value="weekly">Weekly Special</mat-option>
          <mat-option value="category">Category Special</mat-option>
          <mat-option value="combo">Combo Special</mat-option>
        </mat-select>
        <mat-icon class="filter-icon">filter_list</mat-icon>
      </div>
    </div>
    
    <app-specials-table
      [specials]="activeSpecials"
      tableType="active"
      (toggleStatus)="toggleSpecialStatus($event.special, $event.index)"
      (deleteSpecial)="deleteSpecial($event.specialId, $event.index)">
    </app-specials-table>
  </div>

  <!-- Inactive Specials Section -->
  <div class="specials-section">
    <div class="section-header">
      <h6 class="section-title">Inactive Specials</h6>
    </div>
    
    <app-specials-table
      [specials]="inactiveSpecials"
      tableType="inactive"
      (toggleStatus)="toggleSpecialStatus($event.special, $event.index)"
      (deleteSpecial)="deleteSpecial($event.specialId, $event.index)">
    </app-specials-table>
  </div>

  <!-- Drafts Section -->
  <div class="specials-section">
    <div class="section-header">
      <h6 class="section-title">Drafts</h6>
    </div>
    
    <app-specials-table
      [specials]="draftSpecials"
      tableType="draft"
      [showToggle]="false"
      (deleteSpecial)="deleteSpecial($event.specialId, $event.index)">
    </app-specials-table>
  </div>
</div>
