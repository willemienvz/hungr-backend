<div class="step1-container block-open-top">
 
    <ng-content select="[header]"></ng-content>

  <app-content-block title="" customClass="rowSpecial block-open-top">
    <form [formGroup]="specialForm">
      <div class="formGroup">
        <app-form-input
          type="text"
          label="Special Title"
          placeholder="Enter special title"
          [required]="true"
          [errorMessage]="specialForm.get('specialTitle')?.touched && specialForm.get('specialTitle')?.invalid ? 'Special Title is required.' : ''"
          formControlName="specialTitle">
        </app-form-input>
      </div>
      <div class="formGroup">
        <app-form-select
          label="Select Menu"
          placeholder="Select a menu..."
          [options]="menuOptions"
          formControlName="menu"
          [required]="true"
          [errorMessage]="specialForm.get('menu')?.touched && specialForm.get('menu')?.invalid ? 'Menu selection is required.' : ''"
          [showError]="specialForm.get('menu')?.touched && specialForm.get('menu')?.invalid"
          (selectionChange)="onMenuChange()">
        </app-form-select>
      </div>
      <div class="formGroup">
        <app-form-select
          label="Type of Special"
          placeholder="Select type of special..."
          [options]="specialTypeOptions"
          formControlName="typeSpecial"
          [required]="true"
          [errorMessage]="specialForm.get('typeSpecial')?.touched && specialForm.get('typeSpecial')?.invalid ? 'Type of special is required.' : ''"
          [showError]="specialForm.get('typeSpecial')?.touched && specialForm.get('typeSpecial')?.invalid"
          (selectionChange)="onSpecialTypeChange()">
        </app-form-select>
      </div>
      <div class="formGroup dateRow">
       
          <div class="col">
            <app-form-input
              type="date"
              label="Start Date"
              placeholder="Start date"
              [required]="true"
              [errorMessage]="specialForm.get('dateFrom')?.touched && (specialForm.get('dateFrom')?.invalid || !specialForm.get('dateFrom')?.value) ? 'Start date is required.' : ''"
              formControlName="dateFrom">
            </app-form-input>
          </div>
          <div class="col">
            <app-form-input
              type="date"
              label="End Date"
              placeholder="End date"
              [required]="true"
              [errorMessage]="specialForm.get('dateTo')?.touched && (specialForm.get('dateTo')?.invalid || !specialForm.get('dateTo')?.value) ? 'End date is required.' : ''"
              formControlName="dateTo">
            </app-form-input>
        </div>
        <div
          *ngIf="specialForm.errors?.['dateRangeInvalid']"
          class="error-message"
        >
          Start date must be before end date.
        </div>
      </div>
    </form>
  </app-content-block>
</div> 